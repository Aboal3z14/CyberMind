<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>سايبر مايند - تسجيل الدخول</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>

  <!-- ======================================
  🌌 MATRIX BACKGROUND
  ======================================= -->
  <canvas id="matrix"></canvas>

  <!-- ======================================
  📩 OTP EMAIL TOAST (Fake Notification)
  ======================================= -->
  <div id="otp-toast" class="otp-toast hidden">
    📩 بريد إلكتروني جديد من security@cybermind.com<br>
    رمز التحقق: <strong id="otp-code">000000</strong>
  </div>

  <!-- ======================================
  🤖 CYBERBUDDY (Always Visible)
  ======================================= -->
  <div id="cyberbuddy" class="cyberbuddy">
    🤖 <strong>سايبر بودي</strong><br>
    مرحبًا! مستني تسجيل دخولك! 👀
  </div>

  <!-- ======================================
  🎬 WELCOME SCREEN (First Page)
  ======================================= -->
  <div id="welcome-screen" class="welcome-screen">
    <h1 class="game-title">💻 سايبر مايند 💻</h1>
    <p class="subtitle">المحاكي الذكي للتوعية بالأمن السيبراني</p>
    <button id="start-btn" class="start-btn">ابدأ اللعبة</button>
  </div>

  <!-- ======================================
  🔐 LOGIN SCREEN (Shown After Welcome)
  ======================================= -->
<!-- 🔹 Sign Up Screen -->
<div id="signup-screen" class="hidden">
  <div class="login-card">
    <h1>إنشاء حساب جديد</h1>

    <input type="text" id="signup-username" placeholder="اسم المستخدم" />
    <input type="password" id="signup-password" placeholder="كلمة المرور" />

    <button id="signup-btn">تسجيل</button>
    
    <p>لديك حساب بالفعل؟ 
      <a href="#" onclick="showLoginScreen()">سجّل الدخول</a>
    </p>

    <p id="signup-message" class="error-message"></p>
  </div>
</div>

<!-- 🔹 Login Screen -->
<div id="login-screen" class="hidden">
  <div class="login-card">
    <h1>تسجيل الدخول</h1>

    <input type="text" id="login-username" placeholder="اسم المستخدم" />
    <input type="password" id="login-password" placeholder="كلمة المرور" />

    <div class="custom-checkbox">
      <input type="checkbox" id="mfa-check" />
      <label for="mfa-check">أريد تفعيل التحقق الثنائي (2FA)</label>
    </div>

    <button id="login-btn">دخول</button>

    <div id="otp-area" class="hidden">
      <input type="text" id="otp-input" placeholder="ادخل رمز التحقق" />
      <button id="verify-otp-btn">تحقق</button>
    </div>

    <p>لا تملك حساب؟ 
      <a href="#" onclick="showSignupScreen()">إنشاء حساب</a>
    </p>

    <p id="login-message" class="error-message"></p>
  </div>
</div>


  <!-- ======================================
  🎮 GAME MENU SCREEN
  ======================================= -->
  <div id="menu-screen" class="hidden">
    <div class="menu-card">
      <h1>القائمة الرئيسية</h1>
      <button id="start-level-btn">🧠 ابدأ المرحلة الأولى</button>
      <button id="badges-btn">🏅 الشارات</button>
      <button id="settings-btn">⚙️ الإعدادات</button>
    </div>
  </div>
<!-- ======================================
  🎮 LEVEL 1: EMAIL PHISHING SCREEN
  ======================================= -->
<div id="level1-screen" class="hidden">
  <div class="level-container">
    <h1 align="center">المستوى الأول: تعرف على الإيميلات المزيفة</h1>
    <p class="level-description">أنت موظف جديد في الشركة. يجب أن تميز الإيميلات الحقيقية من المزيفة قبل النقر على أي رابط!</p>
    
    <div class="stats">
      <div class="stat-item">
        <div class="stat-value" id="level-score">0</div>
        <div class="stat-label">النقاط</div>
      </div>
      <div class="stat-item">
        <div class="stat-value" id="emails-remaining">5</div>
        <div class="stat-label">الإيميلات المتبقية</div>
      </div>
      <div class="stat-item">
        <div class="stat-value" id="correct-answers">0</div>
        <div class="stat-label">الإجابات الصحيحة</div>
      </div>
    </div>
    
    <div class="game-area">
      <div class="email-card" id="email-card">
        <div class="email-header">
          <div class="email-sender" id="email-sender"></div>
          <div class="email-time" id="email-time"></div>
        </div>
        <div class="email-subject" id="email-subject"></div>
        <div class="email-body" id="email-body"></div>
        <a href="#" class="email-link" id="email-link"></a>
      </div>
      
      <div class="feedback" id="feedback"></div>
      
      <div class="hint" id="hint"></div>
    </div>
    
    <div class="actions">
      <button class="btn btn-real" id="btn-real"><i class="fas fa-check-circle"></i> إيميل آمن</button>
      <button class="btn btn-fake" id="btn-fake"><i class="fas fa-times-circle"></i> إيميل مزيف</button>
    </div>
    
  </div>
</div>
<div id="congrats-screen" class="hidden">
  <h1>🎉 مبروك خلصت المستوى الأول!</h1>
  <p>مستعد للمستوى الثاني؟ 👀</p>
  <button class="btn" id="go-to-level2">➡️ روح للمستوى الثاني</button>
</div>

  <!-- ======================================
  🏆 BADGES & SETTINGS OVERLAYS
  ====================================== -->
  <!-- ================= BADGES OVERLAY ================= -->
  <div id="badgesOverlay" class="overlay hidden">
      <div class="overlay-content">
          <h2>🏆 شارات الإنجاز</h2>
          <div class="badges-grid">
              <div class="badge locked" data-id="🛡️ MFA Enforcer">
                  <img src="badge1.png" alt="🛡️ MFA Enforcert">
                  <span class="badge-title"> 🛡️ MFA Enforcer </span>
              </div>
              <div class="badge locked" data-id="🧠 Phishing Analyst"  >
                  <img src="badge2.png" alt="🧠 Phishing Analyst">
                  <span class="badge-title">🧠 Phishing Analyst </span>
              </div>
              <div class="badge locked" data-id="🔒 Digital Lockmaster "  >
                  <img src="badge3.png" alt="🔒 Digital Lockmaster ">
                  <span class="badge-title"> 🔒 Digital Lockmaster </span>
              </div>
              <div class="badge locked" data-id="📱 Mobile Defender "  >
                  <img src="badge4.png" alt="📱 Mobile Defender ">
                  <span class="badge-title">📱 Mobile Defender </span>
              </div>
              <div class="badge locked" data-id="� Social Engineering Aware "  >
                  <img src="badge5.png" alt="� Social Engineering Aware ">
                  <span class="badge-title">� Social Engineering Aware </span>
              </div>
              <div class="badge locked" data-id="🗣️ Human Firewall"  >
                  <img src="badge6.png" alt="🗣️ Human Firewall">
                  <span class="badge-title">🗣️ Human Firewall</span>
              </div>
              <div class="badge locked" data-id="� Backup Guardian"  >
                  <img src="badge7.png" alt="� Backup Guardian">
                  <span class="badge-title">� Backup Guardian</span>
              </div>
              <div class="badge locked" data-id="🌐 Network Defender"  >
                  <img src="badge9.png" alt="🌐 Network Defender">
                  <span class="badge-title">🌐 Network Defender </span>
              </div>
              <div class="badge locked" data-id="🧠 App Investigator"  >
                  <img src="badge10.png" alt="🧠 App Investigator">
                  <span class="badge-title">🧠 App Investigator</span>
              </div>
              <div class="badge locked" data-id="🔥 Firewall Commander"  >
                  <img src="badge10.png" alt="🔥 Firewall Commander">
                  <span class="badge-title">🔥 Firewall Commander</span>
              </div>
              <div class="badge locked" data-id="👁 Threat Hunter "  >
                  <img src="badge10.png" alt="👁 Threat Hunter ">
                  <span class="badge-title">👁 Threat Hunter </span>
              </div>
              <div class="badge locked" data-id="🏆 CyberMind Master"  >
                  <img src="badge10.png" alt="🏆 CyberMind Master">
                  <span class="badge-title">🏆 CyberMind Master</span>
              </div>
          </div>
          <button class="close-btn" data-close="badgesOverlay">إغلاق</button>
      </div>
  </div>
  
  <!-- ================= SETTINGS OVERLAY ================= -->
  <div id="settingsOverlay" class="overlay hidden">
      <div class="overlay-content">
          <h2>⚙ الإعدادات</h2>

          <div class="setting-item">
              <label for="musicToggle">🎵 تشغيل الموسيقى</label>
              <input type="checkbox" id="musicToggle">
          </div>

          <div class="setting-item">
              <label for="sfxToggle">🔊 المؤثرات الصوتية</label>
              <input type="checkbox" id="sfxToggle">
          </div>

          <div class="setting-item">
              <label for="volumeSlider">🔈 مستوى الصوت</label>
              <input type="range" id="volumeSlider" min="0" max="100" value="50">
          </div>

          <div class="setting-item">
              <label for="themeSelect">🌗 المظهر</label>
              <select id="themeSelect">
                  <option value="matrix">خلفية ماتريكس</option>
                  <option value="dark">الوضع الداكن</option>
              </select>
          </div>

          <div class="setting-item">
              <button id="resetProgress" class="danger-btn">🔄 إعادة التقدم</button>
          </div>

          <button class="close-btn" data-close="settingsOverlay">إغلاق</button>
      </div>
  </div>

  
  <!-- Webcam Widget -->
<div id="webcam-widget" 
     style="position: fixed; bottom: 20px; right: 20px; width: 300px; height: 230px; border: 5px solid #00ffcc; border-radius: 10px; overflow: hidden; background: #000; z-index: 9999;">

  <!-- Video Feed -->
  <video id="webcam" autoplay muted playsinline width="300" height="230"></video>

  <!-- Controls -->
  <div id="webcam-controls" style="position: absolute; top: 5px; right: 5px;">
    <!-- Minimize button visible initially -->
    <button id="minimize-webcam" style="width: 80px; font-size: 12px; cursor: pointer;">Minimize</button>
    <!-- Maximize button hidden initially -->
    <button id="maximize-webcam" style="width: 80px; font-size: 12px; margin-right:150; cursor: pointer; display:none;">Maximize</button>
  </div>
</div>








  <!-- ======================================
  🔊 AUDIO ASSETS
  ======================================= -->
  <audio id="otp-sound" src="sounds/otp-sound.mp3" preload="auto"></audio>
  <audio id="bg-music" src="sounds/bg-music.mp3" preload="auto" loop></audio>

  <!-- ======================================
  🔊 SCRIPTS
  ======================================= -->
  <script defer src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js"></script>
  <script defer src="emotion.js"></script>
  <script defer src="level1.js"></script>
  <script defer src="main.js"></script>
</body>
</html>
